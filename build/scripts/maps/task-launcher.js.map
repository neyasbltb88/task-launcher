{"version":3,"names":[],"mappings":"","sources":["task-launcher.js"],"sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./app/scripts/task-launcher.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./app/scripts/task-launcher.js\":\n/*!**************************************!*\\\n  !*** ./app/scripts/task-launcher.js ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"default\\\", function() { return Launcher; });\\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\\n\\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\\n\\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\\n\\nvar Launcher =\\n/*#__PURE__*/\\nfunction () {\\n  /*  tasks = {\\r\\n   *       condition:  @Function: должна проверять условие, необходимое для вызова callback и возвращать boolean.\\r\\n   *       callback:   @Function: вызовется когда condition вернет true.\\r\\n   *       name:       @String: Имя таска для более удобного управления им. Необязательный.\\r\\n   *       arg:        @Any: один аргумент, который передастся в callback при его вызове. Необязательный.\\r\\n   *                   @Function: если передана функция, то все, что она вернет, будет передано в callback при его вызове.\\r\\n   *       attempts:   @Number: количество попыток для проверки условия. Необязательный.\\r\\n   *                   Если не передан, проверка будет бесконечной, пока condition не вернет true или не будет вызван метод остановки .stop()\\r\\n   *       run:        @Boolean: если true, то запуск таска произойдет автоматически, без вызова .run(). Необязательный.\\r\\n   *   } */\\n  function Launcher() {\\n    var _this = this;\\n\\n    var _tasks = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\\n\\n    _classCallCheck(this, Launcher);\\n\\n    _defineProperty(this, \\\"running\\\", false);\\n\\n    _defineProperty(this, \\\"rafId\\\", 0);\\n\\n    _defineProperty(this, \\\"tasks\\\", []);\\n\\n    _defineProperty(this, \\\"add\\\", function (tasks) {\\n      var newTasks = [];\\n      var added = false;\\n\\n      if (tasks instanceof Array) {\\n        added = [];\\n        newTasks = tasks;\\n      } else if (tasks instanceof Object) {\\n        newTasks.push(tasks);\\n      }\\n\\n      newTasks.forEach(function (task) {\\n        // Валидация таска\\n        if (!task.condition || typeof task.condition !== 'function') {\\n          console.warn('Laucher: не передано условие', task);\\n          return;\\n        }\\n\\n        if (!task.callback || typeof task.callback !== 'function') {\\n          console.warn('Laucher: не передан коллбек', task);\\n          return;\\n        } // Подготовка таска\\n\\n\\n        task.attempts = tasks.attempts || Infinity;\\n        task.tryNum = 0;\\n        task.run = task.run || false; // Добавление в общий массив тасков\\n\\n        _this.tasks.push(task);\\n\\n        var addedIndex = _this.tasks.length - 1;\\n\\n        if (added instanceof Array) {\\n          added.push(addedIndex);\\n        } else {\\n          added = addedIndex;\\n        }\\n      }); // Попытка запуска тасков после добавления\\n\\n      _this._launch();\\n\\n      return added;\\n    });\\n\\n    _defineProperty(this, \\\"hasActive\\\", function () {\\n      return _this.tasks.some(function (task) {\\n        return task.run;\\n      });\\n    });\\n\\n    _defineProperty(this, \\\"_launch\\\", function (rafId) {\\n      // Если не рекурсивный запуск и уже запущен процесс проверки тасков, или нет активных, то выходим\\n      if (_this.rafId !== rafId && (_this.running || !_this.hasActive())) return;\\n      _this.running = true;\\n\\n      _this.tasks.forEach(function (task, index) {\\n        // Если таск не активный, то выходим\\n        if (!task.run) return; // Если функция условия таска вернула true, отключаем дальнейшее выполнение таска и выззываем callback\\n\\n        if (task.condition.call(_this)) {\\n          _this.stop(index);\\n\\n          task.callback.call(_this, typeof task.arg === 'function' ? task.arg.call(_this) : task.arg); // Если функция условия вернула false и количество попыток исчерпано, тормозим таск\\n        } else if (!task.condition.call(_this)) {\\n          task.tryNum++;\\n          if (task.tryNum >= task.attempts) _this.stop(index);\\n        }\\n      }); // После цикла по таскам проверяем остались ли активные таски\\n      // Если активные таски есть, планируем следующий запуск _launch\\n\\n\\n      if (_this.hasActive()) {\\n        _this.rafId = requestAnimationFrame(function () {\\n          return _this._launch(_this.rafId);\\n        }); // Если таски все завершены, то переходим в глобальное состояние остановки\\n      } else {\\n        _this.stop();\\n      }\\n    });\\n\\n    _defineProperty(this, \\\"_runTask\\\", function (taskId, arg) {\\n      var index = _this._findTask(taskId);\\n\\n      if (index === false) return false; // Если нет аргумениа и таск уже запущен, возвращаем false\\n\\n      if (!arg && _this.tasks[index].run) return false; // Запускаем таск\\n\\n      _this.tasks[index].run = true; // Если есть аргумент, обновим его в таске\\n\\n      if (arg) _this.tasks[index].arg = arg;\\n      return index;\\n    });\\n\\n    _defineProperty(this, \\\"run\\\", function () {\\n      var runs; // Если аргументов нет, то запуск всех тасков\\n\\n      if (arguments.length === 0) {\\n        runs = [];\\n\\n        _this.tasks.forEach(function (task, index) {\\n          if (task.run === false) {\\n            runs.push(index);\\n            task.run = true;\\n          }\\n        }); // Если аргумент один, то это индекс или имя таска\\n\\n      } else if (arguments.length === 1) {\\n        runs = _this._runTask(arguments.length <= 0 ? undefined : arguments[0]); // Если аргумента два, то в первом индекс/имя таска, а во втором обновление для task.arg\\n      } else if (arguments.length === 2) {\\n        runs = _this._runTask(arguments.length <= 0 ? undefined : arguments[0], arguments.length <= 1 ? undefined : arguments[1]);\\n      } // Запуск выполнения проверки активных тасков\\n\\n\\n      _this._launch();\\n\\n      return runs;\\n    });\\n\\n    _defineProperty(this, \\\"stop\\\", function (taskId) {\\n      var stoped;\\n\\n      if (taskId !== undefined) {\\n        var index = _this._stopTask(taskId);\\n\\n        if (index === false) return false;\\n        stoped = index;\\n      } else {\\n        stoped = [];\\n\\n        _this.tasks.forEach(function (task, idx) {\\n          var index = _this._stopTask(idx);\\n\\n          if (index === false) return false;\\n          stoped.push(index);\\n        });\\n\\n        _this.running = false;\\n        cancelAnimationFrame(_this.rafId);\\n        _this.rafId = 0;\\n      }\\n\\n      return stoped;\\n    });\\n\\n    _defineProperty(this, \\\"remove\\\", function (taskId) {\\n      var removed;\\n\\n      if (taskId !== undefined) {\\n        var index = _this._removeTask(taskId);\\n\\n        if (index === false) return false;\\n        removed = index;\\n      } else {\\n        removed = [];\\n\\n        _this.tasks.forEach(function (task, idx) {\\n          removed.push(idx);\\n        });\\n\\n        _this.tasks = [];\\n      }\\n\\n      return removed;\\n    });\\n\\n    this.add(_tasks);\\n  }\\n\\n  _createClass(Launcher, [{\\n    key: \\\"_findTask\\\",\\n    value: function _findTask(taskId) {\\n      var index; // Если число - то это индекс, и если под индексом есть таск\\n\\n      if (typeof taskId === 'number' && this.tasks[taskId]) {\\n        index = taskId; // Если строка, то это имя\\n      } else if (typeof taskId === 'string') {\\n        this.tasks.forEach(function (task, ind) {\\n          if (task.name === taskId) index = ind;\\n        });\\n        index = index === undefined ? false : index;\\n      } else {\\n        return false;\\n      }\\n\\n      return index;\\n    }\\n  }, {\\n    key: \\\"_stopTask\\\",\\n    value: function _stopTask(taskId) {\\n      var index = this._findTask(taskId);\\n\\n      if (index === false) return false;\\n      if (!this.tasks[index].run) return false;\\n      this.tasks[index].run = false;\\n      this.tasks[index].tryNum = 0;\\n      return index;\\n    } // Остановка рекурсивной проверки условия\\n\\n  }, {\\n    key: \\\"_removeTask\\\",\\n    value: function _removeTask(taskId) {\\n      var index = this._findTask(taskId);\\n\\n      if (index === false) return false;\\n      this.tasks.splice(index, 1);\\n      return index;\\n    }\\n  }]);\\n\\n  return Launcher;\\n}();\\n\\n\\nwindow.Launcher = Launcher;//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc2NyaXB0cy90YXNrLWxhdW5jaGVyLmpzP2NjMTgiXSwibmFtZXMiOlsiTGF1bmNoZXIiLCJ0YXNrcyIsIm5ld1Rhc2tzIiwiYWRkZWQiLCJBcnJheSIsIk9iamVjdCIsInB1c2giLCJmb3JFYWNoIiwidGFzayIsImNvbmRpdGlvbiIsImNvbnNvbGUiLCJ3YXJuIiwiY2FsbGJhY2siLCJhdHRlbXB0cyIsIkluZmluaXR5IiwidHJ5TnVtIiwicnVuIiwiYWRkZWRJbmRleCIsImxlbmd0aCIsIl9sYXVuY2giLCJzb21lIiwicmFmSWQiLCJydW5uaW5nIiwiaGFzQWN0aXZlIiwiaW5kZXgiLCJjYWxsIiwic3RvcCIsImFyZyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInRhc2tJZCIsIl9maW5kVGFzayIsInJ1bnMiLCJfcnVuVGFzayIsInN0b3BlZCIsInVuZGVmaW5lZCIsIl9zdG9wVGFzayIsImlkeCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwicmVtb3ZlZCIsIl9yZW1vdmVUYXNrIiwiYWRkIiwiaW5kIiwibmFtZSIsInNwbGljZSIsIndpbmRvdyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFxQkEsUTs7O0FBS2pCOzs7Ozs7Ozs7O0FBVUEsc0JBQXdCO0FBQUE7O0FBQUEsUUFBWkMsTUFBWSx1RUFBSixFQUFJOztBQUFBOztBQUFBLHFDQWRkLEtBY2M7O0FBQUEsbUNBYmhCLENBYWdCOztBQUFBLG1DQVpoQixFQVlnQjs7QUFBQSxpQ0FJbEIsVUFBQ0EsS0FBRCxFQUFXO0FBQ2IsVUFBSUMsUUFBUSxHQUFHLEVBQWY7QUFDQSxVQUFJQyxLQUFLLEdBQUcsS0FBWjs7QUFDQSxVQUFJRixLQUFLLFlBQVlHLEtBQXJCLEVBQTRCO0FBQ3hCRCxhQUFLLEdBQUcsRUFBUjtBQUNBRCxnQkFBUSxHQUFHRCxLQUFYO0FBQ0gsT0FIRCxNQUdPLElBQUlBLEtBQUssWUFBWUksTUFBckIsRUFBNkI7QUFDaENILGdCQUFRLENBQUNJ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TUFBZixDQUFaOztBQUNBLFVBQUlMLEtBQUssS0FBSyxLQUFkLEVBQXFCLE9BQU8sS0FBUDtBQUVyQixVQUFJLENBQUMsS0FBS3ZCLEtBQUwsQ0FBV3VCLEtBQVgsRUFBa0JSLEdBQXZCLEVBQTRCLE9BQU8sS0FBUDtBQUU1QixXQUFLZixLQUFMLENBQVd1QixLQUFYLEVBQWtCUixHQUFsQixHQUF3QixLQUF4QjtBQUNBLFdBQUtmLEtBQUwsQ0FBV3VCLEtBQVgsRUFBa0JULE1BQWxCLEdBQTJCLENBQTNCO0FBRUEsYUFBT1MsS0FBUDtBQUNILEssQ0FFRDs7OztnQ0F5QllLLE0sRUFBUTtBQUNoQixVQUFJTCxLQUFLLEdBQUcsS0FBS00sU0FBTCxDQUFlRCxNQUFmLENBQVo7O0FBQ0EsVUFBSUwsS0FBSyxLQUFLLEtBQWQsRUFBcUIsT0FBTyxLQUFQO0FBRXJCLFdBQUt2QixLQUFMLENBQVcwQyxNQUFYLENBQWtCbkIsS0FBbEIsRUFBeUIsQ0FBekI7QUFFQSxhQUFPQSxLQUFQO0FBQ0g7Ozs7Ozs7QUFzQkxvQixNQUFNLENBQUM1QyxRQUFQLEdBQWtCQSxRQUFsQiIsImZpbGUiOiIuL2FwcC9zY3JpcHRzL3Rhc2stbGF1bmNoZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBMYXVuY2hlciB7XHJcbiAgICBydW5uaW5nID0gZmFsc2U7XHJcbiAgICByYWZJZCA9IDA7XHJcbiAgICB0YXNrcyA9IFtdO1xyXG5cclxuICAgIC8qICB0YXNrcyA9IHtcclxuICAgICAqICAgICAgIGNvbmRpdGlvbjogIEBGdW5jdGlvbjog0LTQvtC70LbQvdCwINC/0YDQvtCy0LXRgNGP0YLRjCDRg9GB0LvQvtCy0LjQtSwg0L3QtdC+0LHRhdC+0LTQuNC80L7QtSDQtNC70Y8g0LLRi9C30L7QstCwIGNhbGxiYWNrINC4INCy0L7Qt9Cy0YDQsNGJ0LDRgtGMIGJvb2xlYW4uXHJcbiAgICAgKiAgICAgICBjYWxsYmFjazogICBARnVuY3Rpb246INCy0YvQt9C+0LLQtdGC0YHRjyDQutC+0LPQtNCwIGNvbmRpdGlvbiDQstC10YDQvdC10YIgdHJ1ZS5cclxuICAgICAqICAgICAgIG5hbWU6ICAgICAgIEBTdHJpbmc6INCY0LzRjyDRgtCw0YHQutCwINC00LvRjyDQsdC+0LvQtdC1INGD0LTQvtCx0L3QvtCz0L4g0YPQv9GA0LDQstC70LXQvdC40Y8g0LjQvC4g0J3QtdC+0LHRj9C30LDRgtC10LvRjNC90YvQuS5cclxuICAgICAqICAgICAgIGFyZzogICAgICAgIEBBbnk6INC+0LTQuNC9INCw0YDQs9GD0LzQtdC90YIsINC60L7RgtC+0YDRi9C5INC/0LXRgNC10LTQsNGB0YLRgdGPINCyIGNhbGxiYWNrINC/0YDQuCDQtdCz0L4g0LLRi9C30L7QstC1LiDQndC10L7QsdGP0LfQsNGC0LXQu9GM0L3Ri9C5LlxyXG4gICAgICogICAgICAgICAgICAgICAgICAgQEZ1bmN0aW9uOiDQtdGB0LvQuCDQv9C10YDQtdC00LDQvdCwINGE0YPQvdC60YbQuNGPLCDRgtC+INCy0YHQtSwg0YfRgtC+INC+0L3QsCDQstC10YDQvdC10YIsINCx0YPQtNC10YIg0L/QtdGA0LXQtNCw0L3QviDQsiBjYWxsYmFjayDQv9GA0Lgg0LXQs9C+INCy0YvQt9C+0LLQtS5cclxuICAgICAqICAgICAgIGF0dGVtcHRzOiAgIEBOdW1iZXI6INC60L7Qu9C40YfQtdGB0YLQstC+INC/0L7Qv9GL0YLQvtC6INC00LvRjyDQv9GA0L7QstC10YDQutC4INGD0YHQu9C+0LLQuNGPLiDQndC10L7QsdGP0LfQsNGC0LXQu9GM0L3Ri9C5LlxyXG4gICAgICogICAgICAgICAgICAgICAgICAg0JXRgdC70Lgg0L3QtSDQv9C10YDQtdC00LDQvSwg0L/RgNC+0LLQtdGA0LrQsCDQsdGD0LTQtdGCINCx0LXRgdC60L7QvdC10YfQvdC+0LksINC/0L7QutCwIGNvbmRpdGlvbiDQvdC1INCy0LXRgNC90LXRgiB0cnVlINC40LvQuCDQvdC1INCx0YPQtNC10YIg0LLRi9C30LLQsNC9INC80LXRgtC+0LQg0L7RgdGC0LDQvdC+0LLQutC4IC5zdG9wKClcclxuICAgICAqICAgICAgIHJ1bjogICAgICAgIEBCb29sZWFuOiDQtdGB0LvQuCB0cnVlLCDRgtC+INC30LDQv9GD0YHQuiDRgtCw0YHQutCwINC/0YDQvtC40LfQvtC50LTQtdGCINCw0LLRgtC+0LzQsNGC0LjRh9C10YHQutC4LCDQsdC10Lcg0LLRi9C30L7QstCwIC5ydW4oKS4g0J3QtdC+0LHRj9C30LDRgtC10LvRjNC90YvQuS5cclxuICAgICAqICAgfSAqL1xyXG4gICAgY29uc3RydWN0b3IodGFza3MgPSBbXSkge1xyXG4gICAgICAgIHRoaXMuYWRkKHRhc2tzKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGQgPSAodGFza3MpID0+IHtcclxuICAgICAgICBsZXQgbmV3VGFza3MgPSBbXTtcclxuICAgICAgICBsZXQgYWRkZWQgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGFza3MgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICBhZGRlZCA9IFtdO1xyXG4gICAgICAgICAgICBuZXdUYXNrcyA9IHRhc2tzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGFza3MgaW5zdGFuY2VvZiBPYmplY3QpIHtcclxuICAgICAgICAgICAgbmV3VGFza3MucHVzaCh0YXNrcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBuZXdUYXNrcy5mb3JFYWNoKHRhc2sgPT4ge1xyXG4gICAgICAgICAgICAvLyDQktCw0LvQuNC00LDRhtC40Y8g0YLQsNGB0LrQsFxyXG4gICAgICAgICAgICBpZiAoIXRhc2suY29uZGl0aW9uIHx8IHR5cGVvZiB0YXNrLmNvbmRpdGlvbiAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdMYXVjaGVyOiDQvdC1INC/0LXRgNC10LTQsNC90L4g0YPRgdC70L7QstC40LUnLCB0YXNrKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXRhc2suY2FsbGJhY2sgfHwgdHlwZW9mIHRhc2suY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignTGF1Y2hlcjog0L3QtSDQv9C10YDQtdC00LDQvSDQutC+0LvQu9Cx0LXQuicsIHRhc2spO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyDQn9C+0LTQs9C+0YLQvtCy0LrQsCDRgtCw0YHQutCwXHJcbiAgICAgICAgICAgIHRhc2suYXR0ZW1wdHMgPSB0YXNrcy5hdHRlbXB0cyB8fCBJbmZpbml0eTtcclxuICAgICAgICAgICAgdGFzay50cnlOdW0gPSAwO1xyXG4gICAgICAgICAgICB0YXNrLnJ1biA9IHRhc2sucnVuIHx8IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgLy8g0JTQvtCx0LDQstC70LXQvdC40LUg0LIg0L7QsdGJ0LjQuSDQvNCw0YHRgdC40LIg0YLQsNGB0LrQvtCyXHJcbiAgICAgICAgICAgIHRoaXMudGFza3MucHVzaCh0YXNrKTtcclxuICAgICAgICAgICAgbGV0IGFkZGVkSW5kZXggPSB0aGlzLnRhc2tzLmxlbmd0aCAtIDE7XHJcblxyXG4gICAgICAgICAgICBpZiAoYWRkZWQgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgYWRkZWQucHVzaChhZGRlZEluZGV4KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFkZGVkID0gYWRkZWRJbmRleDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyDQn9C+0L/Ri9GC0LrQsCDQt9Cw0L/Rg9GB0LrQsCDRgtCw0YHQutC+0LIg0L/QvtGB0LvQtSDQtNC+0LHQsNCy0LvQtdC90LjRj1xyXG4gICAgICAgIHRoaXMuX2xhdW5jaCgpO1xyXG5cclxuICAgICAgICByZXR1cm4gYWRkZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgaGFzQWN0aXZlID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRhc2tzLnNvbWUodGFzayA9PiB0YXNrLnJ1bik7XHJcbiAgICB9XHJcblxyXG4gICAgX2xhdW5jaCA9IChyYWZJZCkgPT4ge1xyXG4gICAgICAgIC8vINCV0YHQu9C4INC90LUg0YDQtdC60YPRgNGB0LjQstC90YvQuSDQt9Cw0L/Rg9GB0Log0Lgg0YPQttC1INC30LDQv9GD0YnQtdC9INC/0YDQvtGG0LXRgdGBINC/0YDQvtCy0LXRgNC60Lgg0YLQsNGB0LrQvtCyLCDQuNC70Lgg0L3QtdGCINCw0LrRgtC40LLQvdGL0YUsINGC0L4g0LLRi9GF0L7QtNC40LxcclxuICAgICAgICBpZiAodGhpcy5yYWZJZCAhPT0gcmFmSWQgJiYgKHRoaXMucnVubmluZyB8fCAhdGhpcy5oYXNBY3RpdmUoKSkpIHJldHVybjtcclxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLnRhc2tzLmZvckVhY2goKHRhc2ssIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIC8vINCV0YHQu9C4INGC0LDRgdC6INC90LUg0LDQutGC0LjQstC90YvQuSwg0YLQviDQstGL0YXQvtC00LjQvFxyXG4gICAgICAgICAgICBpZiAoIXRhc2sucnVuKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAvLyDQldGB0LvQuCDRhNGD0L3QutGG0LjRjyDRg9GB0LvQvtCy0LjRjyDRgtCw0YHQutCwINCy0LXRgNC90YPQu9CwIHRydWUsINC+0YLQutC70Y7Rh9Cw0LXQvCDQtNCw0LvRjNC90LXQudGI0LXQtSDQstGL0L/QvtC70L3QtdC90LjQtSDRgtCw0YHQutCwINC4INCy0YvQt9C30YvQstCw0LXQvCBjYWxsYmFja1xyXG4gICAgICAgICAgICBpZiAodGFzay5jb25kaXRpb24uY2FsbCh0aGlzKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wKGluZGV4KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0YXNrLmNhbGxiYWNrLmNhbGwodGhpcywgdHlwZW9mIHRhc2suYXJnID09PSAnZnVuY3Rpb24nID8gdGFzay5hcmcuY2FsbCh0aGlzKSA6IHRhc2suYXJnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyDQldGB0LvQuCDRhNGD0L3QutGG0LjRjyDRg9GB0LvQvtCy0LjRjyDQstC10YDQvdGD0LvQsCBmYWxzZSDQuCDQutC+0LvQuNGH0LXRgdGC0LLQviDQv9C+0L/Ri9GC0L7QuiDQuNGB0YfQtdGA0L/QsNC90L4sINGC0L7RgNC80L7Qt9C40Lwg0YLQsNGB0LpcclxuICAgICAgICAgICAgfSBlbHNlIGlmICghdGFzay5jb25kaXRpb24uY2FsbCh0aGlzKSkge1xyXG4gICAgICAgICAgICAgICAgdGFzay50cnlOdW0rKztcclxuICAgICAgICAgICAgICAgIGlmICh0YXNrLnRyeU51bSA+PSB0YXNrLmF0dGVtcHRzKSB0aGlzLnN0b3AoaW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vINCf0L7RgdC70LUg0YbQuNC60LvQsCDQv9C+INGC0LDRgdC60LDQvCDQv9GA0L7QstC10YDRj9C10Lwg0L7RgdGC0LDQu9C40YHRjCDQu9C4INCw0LrRgtC40LLQvdGL0LUg0YLQsNGB0LrQuFxyXG5cclxuICAgICAgICAvLyDQldGB0LvQuCDQsNC60YLQuNCy0L3Ri9C1INGC0LDRgdC60Lgg0LXRgdGC0YwsINC/0LvQsNC90LjRgNGD0LXQvCDRgdC70LXQtNGD0Y7RidC40Lkg0LfQsNC/0YPRgdC6IF9sYXVuY2hcclxuICAgICAgICBpZiAodGhpcy5oYXNBY3RpdmUoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnJhZklkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHRoaXMuX2xhdW5jaCh0aGlzLnJhZklkKSk7XHJcblxyXG4gICAgICAgICAgICAvLyDQldGB0LvQuCDRgtCw0YHQutC4INCy0YHQtSDQt9Cw0LLQtdGA0YjQtdC90YssINGC0L4g0L/QtdGA0LXRhdC+0LTQuNC8INCyINCz0LvQvtCx0LDQu9GM0L3QvtC1INGB0L7RgdGC0L7Rj9C90LjQtSDQvtGB0YLQsNC90L7QstC60LhcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIF9maW5kVGFzayh0YXNrSWQpIHtcclxuICAgICAgICBsZXQgaW5kZXg7XHJcbiAgICAgICAgLy8g0JXRgdC70Lgg0YfQuNGB0LvQviAtINGC0L4g0Y3RgtC+INC40L3QtNC10LrRgSwg0Lgg0LXRgdC70Lgg0L/QvtC0INC40L3QtNC10LrRgdC+0Lwg0LXRgdGC0Ywg0YLQsNGB0LpcclxuICAgICAgICBpZiAodHlwZW9mIHRhc2tJZCA9PT0gJ251bWJlcicgJiYgdGhpcy50YXNrc1t0YXNrSWRdKSB7XHJcbiAgICAgICAgICAgIGluZGV4ID0gdGFza0lkO1xyXG5cclxuICAgICAgICAgICAgLy8g0JXRgdC70Lgg0YHRgtGA0L7QutCwLCDRgtC+INGN0YLQviDQuNC80Y9cclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0YXNrSWQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGFza3MuZm9yRWFjaCgodGFzaywgaW5kKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGFzay5uYW1lID09PSB0YXNrSWQpIGluZGV4ID0gaW5kO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGluZGV4ID0gKGluZGV4ID09PSB1bmRlZmluZWQpID8gZmFsc2UgOiBpbmRleDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgX3J1blRhc2sgPSAodGFza0lkLCBhcmcpID0+IHtcclxuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLl9maW5kVGFzayh0YXNrSWQpO1xyXG4gICAgICAgIGlmIChpbmRleCA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8g0JXRgdC70Lgg0L3QtdGCINCw0YDQs9GD0LzQtdC90LjQsCDQuCDRgtCw0YHQuiDRg9C20LUg0LfQsNC/0YPRidC10L0sINCy0L7Qt9Cy0YDQsNGJ0LDQtdC8IGZhbHNlXHJcbiAgICAgICAgaWYgKCFhcmcgJiYgdGhpcy50YXNrc1tpbmRleF0ucnVuKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vINCX0LDQv9GD0YHQutCw0LXQvCDRgtCw0YHQulxyXG4gICAgICAgIHRoaXMudGFza3NbaW5kZXhdLnJ1biA9IHRydWU7XHJcbiAgICAgICAgLy8g0JXRgdC70Lgg0LXRgdGC0Ywg0LDRgNCz0YPQvNC10L3Rgiwg0L7QsdC90L7QstC40Lwg0LXQs9C+INCyINGC0LDRgdC60LVcclxuICAgICAgICBpZiAoYXJnKSB0aGlzLnRhc2tzW2luZGV4XS5hcmcgPSBhcmc7XHJcblxyXG4gICAgICAgIHJldHVybiBpbmRleDtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQl9Cw0L/Rg9GB0Log0YDQtdC60YPRgNGB0LjQstC90L7QuSDQv9GA0L7QstC10YDQutC4INGD0YHQu9C+0LLQuNC5INGC0LDRgdC60L7QslxyXG4gICAgcnVuID0gKC4uLmFyZ3MpID0+IHtcclxuICAgICAgICBsZXQgcnVucztcclxuICAgICAgICAvLyDQldGB0LvQuCDQsNGA0LPRg9C80LXQvdGC0L7QsiDQvdC10YIsINGC0L4g0LfQsNC/0YPRgdC6INCy0YHQtdGFINGC0LDRgdC60L7QslxyXG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICBydW5zID0gW107XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRhc2tzLmZvckVhY2goKHRhc2ssIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGFzay5ydW4gPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcnVucy5wdXNoKGluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICB0YXNrLnJ1biA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8g0JXRgdC70Lgg0LDRgNCz0YPQvNC10L3RgiDQvtC00LjQvSwg0YLQviDRjdGC0L4g0LjQvdC00LXQutGBINC40LvQuCDQuNC80Y8g0YLQsNGB0LrQsFxyXG4gICAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgcnVucyA9IHRoaXMuX3J1blRhc2soYXJnc1swXSk7XHJcblxyXG4gICAgICAgICAgICAvLyDQldGB0LvQuCDQsNGA0LPRg9C80LXQvdGC0LAg0LTQstCwLCDRgtC+INCyINC/0LXRgNCy0L7QvCDQuNC90LTQtdC60YEv0LjQvNGPINGC0LDRgdC60LAsINCwINCy0L4g0LLRgtC+0YDQvtC8INC+0LHQvdC+0LLQu9C10L3QuNC1INC00LvRjyB0YXNrLmFyZ1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgcnVucyA9IHRoaXMuX3J1blRhc2soYXJnc1swXSwgYXJnc1sxXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDQl9Cw0L/Rg9GB0Log0LLRi9C/0L7Qu9C90LXQvdC40Y8g0L/RgNC+0LLQtdGA0LrQuCDQsNC60YLQuNCy0L3Ri9GFINGC0LDRgdC60L7QslxyXG4gICAgICAgIHRoaXMuX2xhdW5jaCgpO1xyXG5cclxuICAgICAgICByZXR1cm4gcnVucztcclxuICAgIH1cclxuXHJcbiAgICBfc3RvcFRhc2sodGFza0lkKSB7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5fZmluZFRhc2sodGFza0lkKTtcclxuICAgICAgICBpZiAoaW5kZXggPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy50YXNrc1tpbmRleF0ucnVuKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMudGFza3NbaW5kZXhdLnJ1biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudGFza3NbaW5kZXhdLnRyeU51bSA9IDA7XHJcblxyXG4gICAgICAgIHJldHVybiBpbmRleDtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQntGB0YLQsNC90L7QstC60LAg0YDQtdC60YPRgNGB0LjQstC90L7QuSDQv9GA0L7QstC10YDQutC4INGD0YHQu9C+0LLQuNGPXHJcbiAgICBzdG9wID0gKHRhc2tJZCkgPT4ge1xyXG4gICAgICAgIGxldCBzdG9wZWQ7XHJcbiAgICAgICAgaWYgKHRhc2tJZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9IHRoaXMuX3N0b3BUYXNrKHRhc2tJZCk7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHN0b3BlZCA9IGluZGV4O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN0b3BlZCA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLnRhc2tzLmZvckVhY2goKHRhc2ssIGlkeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5fc3RvcFRhc2soaWR4KTtcclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBzdG9wZWQucHVzaChpbmRleCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMucmFmSWQpO1xyXG4gICAgICAgICAgICB0aGlzLnJhZklkID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzdG9wZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgX3JlbW92ZVRhc2sodGFza0lkKSB7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5fZmluZFRhc2sodGFza0lkKTtcclxuICAgICAgICBpZiAoaW5kZXggPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMudGFza3Muc3BsaWNlKGluZGV4LCAxKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGluZGV4O1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZSA9ICh0YXNrSWQpID0+IHtcclxuICAgICAgICBsZXQgcmVtb3ZlZDtcclxuICAgICAgICBpZiAodGFza0lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5fcmVtb3ZlVGFzayh0YXNrSWQpO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICByZW1vdmVkID0gaW5kZXg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVtb3ZlZCA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLnRhc2tzLmZvckVhY2goKHRhc2ssIGlkeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlZC5wdXNoKGlkeCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50YXNrcyA9IFtdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlbW92ZWQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbndpbmRvdy5MYXVuY2hlciA9IExhdW5jaGVyOyJdLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///./app/scripts/task-launcher.js\\n\");\n\n/***/ })\n\n/******/ });"],"file":"../task-launcher.js"}