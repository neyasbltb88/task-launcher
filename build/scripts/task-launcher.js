/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./app/scripts/task-launcher.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./app/scripts/task-launcher.js":
/*!**************************************!*\
  !*** ./app/scripts/task-launcher.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Launcher; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Launcher =\n/*#__PURE__*/\nfunction () {\n  /*  tasks = {\r\n   *       condition:  @Function: должна проверять условие, необходимое для вызова callback и возвращать boolean.\r\n   *       callback:   @Function: вызовется когда condition вернет true.\r\n   *       name:       @String: Имя таска для более удобного управления им. Необязательный.\r\n   *       arg:        @Any: один аргумент, который передастся в callback при его вызове. Необязательный.\r\n   *                   @Function: если передана функция, то все, что она вернет, будет передано в callback при его вызове.\r\n   *       attempts:   @Number: количество попыток для проверки условия. Необязательный.\r\n   *                   Если не передан, проверка будет бесконечной, пока condition не вернет true или не будет вызван метод остановки .stop()\r\n   *       run:        @Boolean: если true, то запуск таска произойдет автоматически, без вызова .run(). Необязательный.\r\n   *   } */\n  function Launcher() {\n    var _this = this;\n\n    var _tasks = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    _classCallCheck(this, Launcher);\n\n    _defineProperty(this, \"running\", false);\n\n    _defineProperty(this, \"rafId\", 0);\n\n    _defineProperty(this, \"tasks\", []);\n\n    _defineProperty(this, \"add\", function (tasks) {\n      var newTasks = [];\n      var added = false;\n\n      if (tasks instanceof Array) {\n        added = [];\n        newTasks = tasks;\n      } else if (tasks instanceof Object) {\n        newTasks.push(tasks);\n      }\n\n      newTasks.forEach(function (task) {\n        // Валидация таска\n        if (!task.condition || typeof task.condition !== 'function') {\n          console.warn('Laucher: не передано условие', task);\n          return;\n        }\n\n        if (!task.callback || typeof task.callback !== 'function') {\n          console.warn('Laucher: не передан коллбек', task);\n          return;\n        } // Подготовка таска\n\n\n        task.attempts = task.attempts || Infinity;\n        task.tryNum = 0;\n        task.run = task.run || false;\n        task.complete = null; // Добавление в общий массив тасков\n\n        _this.tasks.push(task);\n\n        var addedIndex = _this.tasks.length - 1;\n\n        if (added instanceof Array) {\n          added.push(addedIndex);\n        } else {\n          added = addedIndex;\n        }\n      }); // Попытка запуска тасков после добавления\n\n      _this._launch();\n\n      return added;\n    });\n\n    _defineProperty(this, \"hasActive\", function () {\n      return _this.tasks.some(function (task) {\n        return task.run;\n      });\n    });\n\n    _defineProperty(this, \"_launch\", function (rafId) {\n      // Если не рекурсивный запуск и уже запущен процесс проверки тасков, или нет активных, то выходим\n      if (_this.rafId !== rafId && (_this.running || !_this.hasActive())) return;\n      _this.running = true;\n\n      _this.tasks.forEach(function (task, index) {\n        // Если таск не активный, то выходим\n        if (!task.run) return; // Если функция условия таска вернула true, отключаем дальнейшее выполнение таска и выззываем callback\n\n        if (task.condition.call(_this)) {\n          _this.stop(index);\n\n          task.complete = true;\n          task.callback.call(_this, typeof task.arg === 'function' ? task.arg.call(_this, index) : task.arg); // Если функция условия вернула false и количество попыток исчерпано, тормозим таск\n        } else if (!task.condition.call(_this)) {\n          task.tryNum++;\n\n          if (task.tryNum >= task.attempts) {\n            _this.stop(index);\n\n            task.complete = false;\n          }\n        }\n      }); // После цикла по таскам проверяем остались ли активные таски\n      // Если активные таски есть, планируем следующий запуск _launch\n\n\n      if (_this.hasActive()) {\n        _this.rafId = requestAnimationFrame(function () {\n          return _this._launch(_this.rafId);\n        }); // Если таски все завершены, то переходим в глобальное состояние остановки\n      } else {\n        _this.stop();\n      }\n    });\n\n    _defineProperty(this, \"_runTask\", function (taskId, arg) {\n      var index = _this.findIndex(taskId);\n\n      if (index === false) return false; // Если нет аргумениа и таск уже запущен, возвращаем false\n\n      if (!arg && _this.tasks[index].run) return false; // Запускаем таск\n\n      _this.tasks[index].run = true; // Отмечаем что таск не вполнен\n\n      _this.tasks[index].complete = null; // Если есть аргумент, обновим его в таске\n\n      if (arg) _this.tasks[index].arg = arg;\n      return index;\n    });\n\n    _defineProperty(this, \"run\", function () {\n      var runs; // Если аргументов нет, то запуск всех тасков\n\n      if (arguments.length === 0) {\n        runs = [];\n\n        _this.tasks.forEach(function (task, index) {\n          _this._runTask(index);\n\n          runs.push(index);\n        }); // Если аргумент один, то это индекс или имя таска\n\n      } else if (arguments.length === 1) {\n        runs = _this._runTask(arguments.length <= 0 ? undefined : arguments[0]); // Если аргумента два, то в первом индекс/имя таска, а во втором обновление для task.arg\n      } else if (arguments.length === 2) {\n        runs = _this._runTask(arguments.length <= 0 ? undefined : arguments[0], arguments.length <= 1 ? undefined : arguments[1]);\n      } // Запуск выполнения проверки активных тасков\n\n\n      _this._launch();\n\n      return runs;\n    });\n\n    _defineProperty(this, \"stop\", function (taskId) {\n      var stoped;\n\n      if (taskId !== undefined) {\n        var index = _this._stopTask(taskId);\n\n        if (index === false) return false;\n        stoped = index;\n      } else {\n        stoped = [];\n\n        _this.tasks.forEach(function (task, idx) {\n          _this._stopTask(idx);\n\n          stoped.push(idx);\n        });\n\n        _this.running = false;\n        cancelAnimationFrame(_this.rafId);\n        _this.rafId = 0;\n      }\n\n      return stoped;\n    });\n\n    _defineProperty(this, \"remove\", function (taskId) {\n      var removed;\n\n      if (taskId !== undefined) {\n        var index = _this._removeTask(taskId);\n\n        if (index === false) return false;\n        removed = index;\n      } else {\n        removed = [];\n\n        _this.tasks.forEach(function (task, idx) {\n          removed.push(idx);\n        });\n\n        _this.tasks = [];\n      }\n\n      return removed;\n    });\n\n    this.add(_tasks);\n  }\n\n  _createClass(Launcher, [{\n    key: \"findIndex\",\n    value: function findIndex(taskId) {\n      var index; // Если число - то это индекс, и если под индексом есть таск\n\n      if (typeof taskId === 'number' && this.tasks[taskId]) {\n        index = taskId; // Если строка, то это имя\n      } else if (typeof taskId === 'string') {\n        this.tasks.forEach(function (task, ind) {\n          if (task.name === taskId) index = ind;\n        });\n        index = index === undefined ? false : index;\n      } else {\n        return false;\n      }\n\n      return index;\n    }\n  }, {\n    key: \"getTask\",\n    value: function getTask(taskId) {\n      var index = this.findIndex(taskId);\n      if (index === false) return false;\n      return this.tasks[index];\n    }\n  }, {\n    key: \"_stopTask\",\n    value: function _stopTask(taskId) {\n      var index = this.findIndex(taskId);\n      if (index === false) return false;\n      if (!this.tasks[index].run) return false;\n      this.tasks[index].run = false;\n      this.tasks[index].tryNum = 0;\n      this.tasks[index].complete = false;\n      return index;\n    } // Остановка рекурсивной проверки условия\n\n  }, {\n    key: \"_removeTask\",\n    value: function _removeTask(taskId) {\n      var index = this.findIndex(taskId);\n      if (index === false) return false;\n      this.tasks.splice(index, 1);\n      return index;\n    }\n  }]);\n\n  return Launcher;\n}();\n\n\nwindow.Launcher = Launcher;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc2NyaXB0cy90YXNrLWxhdW5jaGVyLmpzP2NjMTgiXSwibmFtZXMiOlsiTGF1bmNoZXIiLCJ0YXNrcyIsIm5ld1Rhc2tzIiwiYWRkZWQiLCJBcnJheSIsIk9iamVjdCIsInB1c2giLCJmb3JFYWNoIiwidGFzayIsImNvbmRpdGlvbiIsImNvbnNvbGUiLCJ3YXJuIiwiY2FsbGJhY2siLCJhdHRlbXB0cyIsIkluZmluaXR5IiwidHJ5TnVtIiwicnVuIiwiY29tcGxldGUiLCJhZGRlZEluZGV4IiwibGVuZ3RoIiwiX2xhdW5jaCIsInNvbWUiLCJyYWZJZCIsInJ1bm5pbmciLCJoYXNBY3RpdmUiLCJpbmRleCIsImNhbGwiLCJzdG9wIiwiYXJnIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidGFza0lkIiwiZmluZEluZGV4IiwicnVucyIsIl9ydW5UYXNrIiwic3RvcGVkIiwidW5kZWZpbmVkIiwiX3N0b3BUYXNrIiwiaWR4IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJyZW1vdmVkIiwiX3JlbW92ZVRhc2siLCJhZGQiLCJpbmQiLCJuYW1lIiwic3BsaWNlIiwid2luZG93Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0lBQXFCQSxROzs7QUFLakI7Ozs7Ozs7Ozs7QUFVQSxzQkFBd0I7QUFBQTs7QUFBQSxRQUFaQyxNQUFZLHVFQUFKLEVBQUk7O0FBQUE7O0FBQUEscUNBZGQsS0FjYzs7QUFBQSxtQ0FiaEIsQ0FhZ0I7O0FBQUEsbUNBWmhCLEVBWWdCOztBQUFBLGlDQUlsQixVQUFDQSxLQUFELEVBQVc7QUFDYixVQUFJQyxRQUFRLEdBQUcsRUFBZjtBQUNBLFVBQUlDLEtBQUssR0FBRyxLQUFaOztBQUNBLFVBQUlGLEtBQUssWUFBWUcsS0FBckIsRUFBNEI7QUFDeEJELGFBQUssR0FBRyxFQUFSO0FBQ0FELGdCQUFRLEdBQUdELEtBQVg7QUFDSCxPQUhELE1BR08sSUFBSUEsS0FBSyxZQUFZSSxNQUFyQixFQUE2QjtBQUNoQ0gs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O0FBQ0gsZUFBTyxLQUFQO0FBQ0g7O0FBRUQsYUFBT0EsS0FBUDtBQUNIOzs7NEJBRU9LLE0sRUFBUTtBQUNaLFVBQUlMLEtBQUssR0FBRyxLQUFLTSxTQUFMLENBQWVELE1BQWYsQ0FBWjtBQUNBLFVBQUlMLEtBQUssS0FBSyxLQUFkLEVBQXFCLE9BQU8sS0FBUDtBQUVyQixhQUFPLEtBQUt4QixLQUFMLENBQVd3QixLQUFYLENBQVA7QUFDSDs7OzhCQThDU0ssTSxFQUFRO0FBQ2QsVUFBSUwsS0FBSyxHQUFHLEtBQUtNLFNBQUwsQ0FBZUQsTUFBZixDQUFaO0FBQ0EsVUFBSUwsS0FBSyxLQUFLLEtBQWQsRUFBcUIsT0FBTyxLQUFQO0FBRXJCLFVBQUksQ0FBQyxLQUFLeEIsS0FBTCxDQUFXd0IsS0FBWCxFQUFrQlQsR0FBdkIsRUFBNEIsT0FBTyxLQUFQO0FBRTVCLFdBQUtmLEtBQUwsQ0FBV3dCLEtBQVgsRUFBa0JULEdBQWxCLEdBQXdCLEtBQXhCO0FBQ0EsV0FBS2YsS0FBTCxDQUFXd0IsS0FBWCxFQUFrQlYsTUFBbEIsR0FBMkIsQ0FBM0I7QUFDQSxXQUFLZCxLQUFMLENBQVd3QixLQUFYLEVBQWtCUixRQUFsQixHQUE2QixLQUE3QjtBQUVBLGFBQU9RLEtBQVA7QUFDSCxLLENBRUQ7Ozs7Z0NBdUJZSyxNLEVBQVE7QUFDaEIsVUFBSUwsS0FBSyxHQUFHLEtBQUtNLFNBQUwsQ0FBZUQsTUFBZixDQUFaO0FBQ0EsVUFBSUwsS0FBSyxLQUFLLEtBQWQsRUFBcUIsT0FBTyxLQUFQO0FBRXJCLFdBQUt4QixLQUFMLENBQVcyQyxNQUFYLENBQWtCbkIsS0FBbEIsRUFBeUIsQ0FBekI7QUFFQSxhQUFPQSxLQUFQO0FBQ0g7Ozs7Ozs7QUFzQkxvQixNQUFNLENBQUM3QyxRQUFQLEdBQWtCQSxRQUFsQiIsImZpbGUiOiIuL2FwcC9zY3JpcHRzL3Rhc2stbGF1bmNoZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBMYXVuY2hlciB7XHJcbiAgICBydW5uaW5nID0gZmFsc2U7XHJcbiAgICByYWZJZCA9IDA7XHJcbiAgICB0YXNrcyA9IFtdO1xyXG5cclxuICAgIC8qICB0YXNrcyA9IHtcclxuICAgICAqICAgICAgIGNvbmRpdGlvbjogIEBGdW5jdGlvbjog0LTQvtC70LbQvdCwINC/0YDQvtCy0LXRgNGP0YLRjCDRg9GB0LvQvtCy0LjQtSwg0L3QtdC+0LHRhdC+0LTQuNC80L7QtSDQtNC70Y8g0LLRi9C30L7QstCwIGNhbGxiYWNrINC4INCy0L7Qt9Cy0YDQsNGJ0LDRgtGMIGJvb2xlYW4uXHJcbiAgICAgKiAgICAgICBjYWxsYmFjazogICBARnVuY3Rpb246INCy0YvQt9C+0LLQtdGC0YHRjyDQutC+0LPQtNCwIGNvbmRpdGlvbiDQstC10YDQvdC10YIgdHJ1ZS5cclxuICAgICAqICAgICAgIG5hbWU6ICAgICAgIEBTdHJpbmc6INCY0LzRjyDRgtCw0YHQutCwINC00LvRjyDQsdC+0LvQtdC1INGD0LTQvtCx0L3QvtCz0L4g0YPQv9GA0LDQstC70LXQvdC40Y8g0LjQvC4g0J3QtdC+0LHRj9C30LDRgtC10LvRjNC90YvQuS5cclxuICAgICAqICAgICAgIGFyZzogICAgICAgIEBBbnk6INC+0LTQuNC9INCw0YDQs9GD0LzQtdC90YIsINC60L7RgtC+0YDRi9C5INC/0LXRgNC10LTQsNGB0YLRgdGPINCyIGNhbGxiYWNrINC/0YDQuCDQtdCz0L4g0LLRi9C30L7QstC1LiDQndC10L7QsdGP0LfQsNGC0LXQu9GM0L3Ri9C5LlxyXG4gICAgICogICAgICAgICAgICAgICAgICAgQEZ1bmN0aW9uOiDQtdGB0LvQuCDQv9C10YDQtdC00LDQvdCwINGE0YPQvdC60YbQuNGPLCDRgtC+INCy0YHQtSwg0YfRgtC+INC+0L3QsCDQstC10YDQvdC10YIsINCx0YPQtNC10YIg0L/QtdGA0LXQtNCw0L3QviDQsiBjYWxsYmFjayDQv9GA0Lgg0LXQs9C+INCy0YvQt9C+0LLQtS5cclxuICAgICAqICAgICAgIGF0dGVtcHRzOiAgIEBOdW1iZXI6INC60L7Qu9C40YfQtdGB0YLQstC+INC/0L7Qv9GL0YLQvtC6INC00LvRjyDQv9GA0L7QstC10YDQutC4INGD0YHQu9C+0LLQuNGPLiDQndC10L7QsdGP0LfQsNGC0LXQu9GM0L3Ri9C5LlxyXG4gICAgICogICAgICAgICAgICAgICAgICAg0JXRgdC70Lgg0L3QtSDQv9C10YDQtdC00LDQvSwg0L/RgNC+0LLQtdGA0LrQsCDQsdGD0LTQtdGCINCx0LXRgdC60L7QvdC10YfQvdC+0LksINC/0L7QutCwIGNvbmRpdGlvbiDQvdC1INCy0LXRgNC90LXRgiB0cnVlINC40LvQuCDQvdC1INCx0YPQtNC10YIg0LLRi9C30LLQsNC9INC80LXRgtC+0LQg0L7RgdGC0LDQvdC+0LLQutC4IC5zdG9wKClcclxuICAgICAqICAgICAgIHJ1bjogICAgICAgIEBCb29sZWFuOiDQtdGB0LvQuCB0cnVlLCDRgtC+INC30LDQv9GD0YHQuiDRgtCw0YHQutCwINC/0YDQvtC40LfQvtC50LTQtdGCINCw0LLRgtC+0LzQsNGC0LjRh9C10YHQutC4LCDQsdC10Lcg0LLRi9C30L7QstCwIC5ydW4oKS4g0J3QtdC+0LHRj9C30LDRgtC10LvRjNC90YvQuS5cclxuICAgICAqICAgfSAqL1xyXG4gICAgY29uc3RydWN0b3IodGFza3MgPSBbXSkge1xyXG4gICAgICAgIHRoaXMuYWRkKHRhc2tzKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGQgPSAodGFza3MpID0+IHtcclxuICAgICAgICBsZXQgbmV3VGFza3MgPSBbXTtcclxuICAgICAgICBsZXQgYWRkZWQgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGFza3MgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICBhZGRlZCA9IFtdO1xyXG4gICAgICAgICAgICBuZXdUYXNrcyA9IHRhc2tzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGFza3MgaW5zdGFuY2VvZiBPYmplY3QpIHtcclxuICAgICAgICAgICAgbmV3VGFza3MucHVzaCh0YXNrcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBuZXdUYXNrcy5mb3JFYWNoKHRhc2sgPT4ge1xyXG4gICAgICAgICAgICAvLyDQktCw0LvQuNC00LDRhtC40Y8g0YLQsNGB0LrQsFxyXG4gICAgICAgICAgICBpZiAoIXRhc2suY29uZGl0aW9uIHx8IHR5cGVvZiB0YXNrLmNvbmRpdGlvbiAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdMYXVjaGVyOiDQvdC1INC/0LXRgNC10LTQsNC90L4g0YPRgdC70L7QstC40LUnLCB0YXNrKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXRhc2suY2FsbGJhY2sgfHwgdHlwZW9mIHRhc2suY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignTGF1Y2hlcjog0L3QtSDQv9C10YDQtdC00LDQvSDQutC+0LvQu9Cx0LXQuicsIHRhc2spO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyDQn9C+0LTQs9C+0YLQvtCy0LrQsCDRgtCw0YHQutCwXHJcbiAgICAgICAgICAgIHRhc2suYXR0ZW1wdHMgPSB0YXNrLmF0dGVtcHRzIHx8IEluZmluaXR5O1xyXG4gICAgICAgICAgICB0YXNrLnRyeU51bSA9IDA7XHJcbiAgICAgICAgICAgIHRhc2sucnVuID0gdGFzay5ydW4gfHwgZmFsc2U7XHJcbiAgICAgICAgICAgIHRhc2suY29tcGxldGUgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgLy8g0JTQvtCx0LDQstC70LXQvdC40LUg0LIg0L7QsdGJ0LjQuSDQvNCw0YHRgdC40LIg0YLQsNGB0LrQvtCyXHJcbiAgICAgICAgICAgIHRoaXMudGFza3MucHVzaCh0YXNrKTtcclxuICAgICAgICAgICAgbGV0IGFkZGVkSW5kZXggPSB0aGlzLnRhc2tzLmxlbmd0aCAtIDE7XHJcblxyXG4gICAgICAgICAgICBpZiAoYWRkZWQgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgYWRkZWQucHVzaChhZGRlZEluZGV4KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFkZGVkID0gYWRkZWRJbmRleDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyDQn9C+0L/Ri9GC0LrQsCDQt9Cw0L/Rg9GB0LrQsCDRgtCw0YHQutC+0LIg0L/QvtGB0LvQtSDQtNC+0LHQsNCy0LvQtdC90LjRj1xyXG4gICAgICAgIHRoaXMuX2xhdW5jaCgpO1xyXG5cclxuICAgICAgICByZXR1cm4gYWRkZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgaGFzQWN0aXZlID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRhc2tzLnNvbWUodGFzayA9PiB0YXNrLnJ1bik7XHJcbiAgICB9XHJcblxyXG4gICAgX2xhdW5jaCA9IChyYWZJZCkgPT4ge1xyXG4gICAgICAgIC8vINCV0YHQu9C4INC90LUg0YDQtdC60YPRgNGB0LjQstC90YvQuSDQt9Cw0L/Rg9GB0Log0Lgg0YPQttC1INC30LDQv9GD0YnQtdC9INC/0YDQvtGG0LXRgdGBINC/0YDQvtCy0LXRgNC60Lgg0YLQsNGB0LrQvtCyLCDQuNC70Lgg0L3QtdGCINCw0LrRgtC40LLQvdGL0YUsINGC0L4g0LLRi9GF0L7QtNC40LxcclxuICAgICAgICBpZiAodGhpcy5yYWZJZCAhPT0gcmFmSWQgJiYgKHRoaXMucnVubmluZyB8fCAhdGhpcy5oYXNBY3RpdmUoKSkpIHJldHVybjtcclxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLnRhc2tzLmZvckVhY2goKHRhc2ssIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIC8vINCV0YHQu9C4INGC0LDRgdC6INC90LUg0LDQutGC0LjQstC90YvQuSwg0YLQviDQstGL0YXQvtC00LjQvFxyXG4gICAgICAgICAgICBpZiAoIXRhc2sucnVuKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAvLyDQldGB0LvQuCDRhNGD0L3QutGG0LjRjyDRg9GB0LvQvtCy0LjRjyDRgtCw0YHQutCwINCy0LXRgNC90YPQu9CwIHRydWUsINC+0YLQutC70Y7Rh9Cw0LXQvCDQtNCw0LvRjNC90LXQudGI0LXQtSDQstGL0L/QvtC70L3QtdC90LjQtSDRgtCw0YHQutCwINC4INCy0YvQt9C30YvQstCw0LXQvCBjYWxsYmFja1xyXG4gICAgICAgICAgICBpZiAodGFzay5jb25kaXRpb24uY2FsbCh0aGlzKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wKGluZGV4KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0YXNrLmNvbXBsZXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRhc2suY2FsbGJhY2suY2FsbCh0aGlzLCB0eXBlb2YgdGFzay5hcmcgPT09ICdmdW5jdGlvbicgPyB0YXNrLmFyZy5jYWxsKHRoaXMsIGluZGV4KSA6IHRhc2suYXJnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyDQldGB0LvQuCDRhNGD0L3QutGG0LjRjyDRg9GB0LvQvtCy0LjRjyDQstC10YDQvdGD0LvQsCBmYWxzZSDQuCDQutC+0LvQuNGH0LXRgdGC0LLQviDQv9C+0L/Ri9GC0L7QuiDQuNGB0YfQtdGA0L/QsNC90L4sINGC0L7RgNC80L7Qt9C40Lwg0YLQsNGB0LpcclxuICAgICAgICAgICAgfSBlbHNlIGlmICghdGFzay5jb25kaXRpb24uY2FsbCh0aGlzKSkge1xyXG4gICAgICAgICAgICAgICAgdGFzay50cnlOdW0rKztcclxuICAgICAgICAgICAgICAgIGlmICh0YXNrLnRyeU51bSA+PSB0YXNrLmF0dGVtcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9wKGluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICB0YXNrLmNvbXBsZXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8g0J/QvtGB0LvQtSDRhtC40LrQu9CwINC/0L4g0YLQsNGB0LrQsNC8INC/0YDQvtCy0LXRgNGP0LXQvCDQvtGB0YLQsNC70LjRgdGMINC70Lgg0LDQutGC0LjQstC90YvQtSDRgtCw0YHQutC4XHJcblxyXG4gICAgICAgIC8vINCV0YHQu9C4INCw0LrRgtC40LLQvdGL0LUg0YLQsNGB0LrQuCDQtdGB0YLRjCwg0L/Qu9Cw0L3QuNGA0YPQtdC8INGB0LvQtdC00YPRjtGJ0LjQuSDQt9Cw0L/Rg9GB0LogX2xhdW5jaFxyXG4gICAgICAgIGlmICh0aGlzLmhhc0FjdGl2ZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmFmSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5fbGF1bmNoKHRoaXMucmFmSWQpKTtcclxuXHJcbiAgICAgICAgICAgIC8vINCV0YHQu9C4INGC0LDRgdC60Lgg0LLRgdC1INC30LDQstC10YDRiNC10L3Riywg0YLQviDQv9C10YDQtdGF0L7QtNC40Lwg0LIg0LPQu9C+0LHQsNC70YzQvdC+0LUg0YHQvtGB0YLQvtGP0L3QuNC1INC+0YHRgtCw0L3QvtCy0LrQuFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZmluZEluZGV4KHRhc2tJZCkge1xyXG4gICAgICAgIGxldCBpbmRleDtcclxuICAgICAgICAvLyDQldGB0LvQuCDRh9C40YHQu9C+IC0g0YLQviDRjdGC0L4g0LjQvdC00LXQutGBLCDQuCDQtdGB0LvQuCDQv9C+0LQg0LjQvdC00LXQutGB0L7QvCDQtdGB0YLRjCDRgtCw0YHQulxyXG4gICAgICAgIGlmICh0eXBlb2YgdGFza0lkID09PSAnbnVtYmVyJyAmJiB0aGlzLnRhc2tzW3Rhc2tJZF0pIHtcclxuICAgICAgICAgICAgaW5kZXggPSB0YXNrSWQ7XHJcblxyXG4gICAgICAgICAgICAvLyDQldGB0LvQuCDRgdGC0YDQvtC60LAsINGC0L4g0Y3RgtC+INC40LzRj1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRhc2tJZCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgdGhpcy50YXNrcy5mb3JFYWNoKCh0YXNrLCBpbmQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0YXNrLm5hbWUgPT09IHRhc2tJZCkgaW5kZXggPSBpbmQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaW5kZXggPSAoaW5kZXggPT09IHVuZGVmaW5lZCkgPyBmYWxzZSA6IGluZGV4O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBpbmRleDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRUYXNrKHRhc2tJZCkge1xyXG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuZmluZEluZGV4KHRhc2tJZCk7XHJcbiAgICAgICAgaWYgKGluZGV4ID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy50YXNrc1tpbmRleF07XHJcbiAgICB9XHJcblxyXG4gICAgX3J1blRhc2sgPSAodGFza0lkLCBhcmcpID0+IHtcclxuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLmZpbmRJbmRleCh0YXNrSWQpO1xyXG4gICAgICAgIGlmIChpbmRleCA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8g0JXRgdC70Lgg0L3QtdGCINCw0YDQs9GD0LzQtdC90LjQsCDQuCDRgtCw0YHQuiDRg9C20LUg0LfQsNC/0YPRidC10L0sINCy0L7Qt9Cy0YDQsNGJ0LDQtdC8IGZhbHNlXHJcbiAgICAgICAgaWYgKCFhcmcgJiYgdGhpcy50YXNrc1tpbmRleF0ucnVuKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vINCX0LDQv9GD0YHQutCw0LXQvCDRgtCw0YHQulxyXG4gICAgICAgIHRoaXMudGFza3NbaW5kZXhdLnJ1biA9IHRydWU7XHJcbiAgICAgICAgLy8g0J7RgtC80LXRh9Cw0LXQvCDRh9GC0L4g0YLQsNGB0Log0L3QtSDQstC/0L7Qu9C90LXQvVxyXG4gICAgICAgIHRoaXMudGFza3NbaW5kZXhdLmNvbXBsZXRlID0gbnVsbDtcclxuICAgICAgICAvLyDQldGB0LvQuCDQtdGB0YLRjCDQsNGA0LPRg9C80LXQvdGCLCDQvtCx0L3QvtCy0LjQvCDQtdCz0L4g0LIg0YLQsNGB0LrQtVxyXG4gICAgICAgIGlmIChhcmcpIHRoaXMudGFza3NbaW5kZXhdLmFyZyA9IGFyZztcclxuXHJcbiAgICAgICAgcmV0dXJuIGluZGV4O1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCX0LDQv9GD0YHQuiDRgNC10LrRg9GA0YHQuNCy0L3QvtC5INC/0YDQvtCy0LXRgNC60Lgg0YPRgdC70L7QstC40Lkg0YLQsNGB0LrQvtCyXHJcbiAgICBydW4gPSAoLi4uYXJncykgPT4ge1xyXG4gICAgICAgIGxldCBydW5zO1xyXG4gICAgICAgIC8vINCV0YHQu9C4INCw0YDQs9GD0LzQtdC90YLQvtCyINC90LXRgiwg0YLQviDQt9Cw0L/Rg9GB0Log0LLRgdC10YUg0YLQsNGB0LrQvtCyXHJcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJ1bnMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGFza3MuZm9yRWFjaCgodGFzaywgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3J1blRhc2soaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgcnVucy5wdXNoKGluZGV4KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyDQldGB0LvQuCDQsNGA0LPRg9C80LXQvdGCINC+0LTQuNC9LCDRgtC+INGN0YLQviDQuNC90LTQtdC60YEg0LjQu9C4INC40LzRjyDRgtCw0YHQutCwXHJcbiAgICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICBydW5zID0gdGhpcy5fcnVuVGFzayhhcmdzWzBdKTtcclxuXHJcbiAgICAgICAgICAgIC8vINCV0YHQu9C4INCw0YDQs9GD0LzQtdC90YLQsCDQtNCy0LAsINGC0L4g0LIg0L/QtdGA0LLQvtC8INC40L3QtNC10LrRgS/QuNC80Y8g0YLQsNGB0LrQsCwg0LAg0LLQviDQstGC0L7RgNC+0Lwg0L7QsdC90L7QstC70LXQvdC40LUg0LTQu9GPIHRhc2suYXJnXHJcbiAgICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICBydW5zID0gdGhpcy5fcnVuVGFzayhhcmdzWzBdLCBhcmdzWzFdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vINCX0LDQv9GD0YHQuiDQstGL0L/QvtC70L3QtdC90LjRjyDQv9GA0L7QstC10YDQutC4INCw0LrRgtC40LLQvdGL0YUg0YLQsNGB0LrQvtCyXHJcbiAgICAgICAgdGhpcy5fbGF1bmNoKCk7XHJcblxyXG4gICAgICAgIHJldHVybiBydW5zO1xyXG4gICAgfVxyXG5cclxuICAgIF9zdG9wVGFzayh0YXNrSWQpIHtcclxuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLmZpbmRJbmRleCh0YXNrSWQpO1xyXG4gICAgICAgIGlmIChpbmRleCA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLnRhc2tzW2luZGV4XS5ydW4pIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy50YXNrc1tpbmRleF0ucnVuID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy50YXNrc1tpbmRleF0udHJ5TnVtID0gMDtcclxuICAgICAgICB0aGlzLnRhc2tzW2luZGV4XS5jb21wbGV0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0J7RgdGC0LDQvdC+0LLQutCwINGA0LXQutGD0YDRgdC40LLQvdC+0Lkg0L/RgNC+0LLQtdGA0LrQuCDRg9GB0LvQvtCy0LjRj1xyXG4gICAgc3RvcCA9ICh0YXNrSWQpID0+IHtcclxuICAgICAgICBsZXQgc3RvcGVkO1xyXG4gICAgICAgIGlmICh0YXNrSWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLl9zdG9wVGFzayh0YXNrSWQpO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBzdG9wZWQgPSBpbmRleDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdG9wZWQgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy50YXNrcy5mb3JFYWNoKCh0YXNrLCBpZHgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0b3BUYXNrKGlkeCk7XHJcbiAgICAgICAgICAgICAgICBzdG9wZWQucHVzaChpZHgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnJhZklkKTtcclxuICAgICAgICAgICAgdGhpcy5yYWZJZCA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc3RvcGVkO1xyXG4gICAgfVxyXG5cclxuICAgIF9yZW1vdmVUYXNrKHRhc2tJZCkge1xyXG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuZmluZEluZGV4KHRhc2tJZCk7XHJcbiAgICAgICAgaWYgKGluZGV4ID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLnRhc2tzLnNwbGljZShpbmRleCwgMSk7XHJcblxyXG4gICAgICAgIHJldHVybiBpbmRleDtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmUgPSAodGFza0lkKSA9PiB7XHJcbiAgICAgICAgbGV0IHJlbW92ZWQ7XHJcbiAgICAgICAgaWYgKHRhc2tJZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9IHRoaXMuX3JlbW92ZVRhc2sodGFza0lkKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgcmVtb3ZlZCA9IGluZGV4O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlbW92ZWQgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy50YXNrcy5mb3JFYWNoKCh0YXNrLCBpZHgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZWQucHVzaChpZHgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGFza3MgPSBbXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZW1vdmVkO1xyXG4gICAgfVxyXG59XHJcblxyXG53aW5kb3cuTGF1bmNoZXIgPSBMYXVuY2hlcjsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./app/scripts/task-launcher.js\n");

/***/ })

/******/ });
//# sourceMappingURL=maps/task-launcher.js.map
